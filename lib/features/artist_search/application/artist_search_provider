import 'package:flutter_riverpod/flutter_riverpod.dart';
import '../domain/artist.dart';

final artistSearchProvider = StateNotifierProvider<ArtistSearchNotifier, List<Artist>>((ref) {
  return ArtistSearchNotifier();
});

class ArtistSearchNotifier extends StateNotifier<List<Artist>> {
  ArtistSearchNotifier() : super(_allArtists);

  static final _allArtists = <Artist>[
  'A-Reece', 'Nasty C', 'Emtee', 'Sho Madjozi', 'Cassper Nyovest', 'Kwesta',
  'Black Coffee', 'Elaine', 'Zahara', 'DJ Maphorisa', 'Prince Kaybee',
  'Busiswa', 'YoungstaCPT', 'Big Zulu', 'Focalistic', 'Kamo Mphela',
  'Sun-EL Musician', 'Amanda Black', 'Sjava', 'Holly Rey', 'Lady Zamar',
  'The Big Hash', 'Okmalumkoolkat', 'Kid X', 'Gigi Lamayne', 'Anatii',
  'Yanga Chief', 'Boity', 'Blxckie', 'Tellaman', 'Nadia Nakai',
  'Msaki', 'Jâ€™Something', 'Samthing Soweto', 'Simmy', 'Cici',
  'Dr Malinga', 'Kabelo Mabalane', 'Zonke', 'Jo Black',
  'Jack Parow', 'AKA', 'Die Antwoord', 'ProVerb', 'Stogie T',
  'Dr Tumi', 'Rebecca Malope', 'Benjamin Dube', 'Mlindo The Vocalist',
  'Shekhinah', 'DJ Zinhle', 'Lady Du', 'De Mthuda', 'Kabza De Small',
  'Tyla', 'Costa Titch', 'Uncle Waffles', 'Moozlie', 'Rouge',
  'DJ Sbu', 'Mandoza', 'TKZee', 'Skwatta Kamp', 'HHP',
  'Mafikizolo', 'Bucie', 'Lira', 'Mi Casa', 'Micasa', 'Tuks Senganga',
  'Joey Rasdien', 'The Soil', 'Thebe', 'Arthur Mafokate', 'Boom Shaka',
  'Kabelo', 'Ivy Kombo', 'Judith Sephuma', 'Loyiso Bala', 'Vusi Nova',
  'Thandiswa Mazwai', 'Letta Mbulu', 'Brenda Fassie', 'Yvonne Chaka Chaka',
  'Miriam Makeba', 'Lucky Dube', 'Ray Phiri', 'Johnny Clegg', 'PJ Powers',
  'Sipho Mabuse', 'Caiphus Semenya', 'Stimela', 'Mango Groove',
  'Juluka', 'Mahotella Queens', 'Ladysmith Black Mambazo', 'Bongo Maffin'
  ];

  void search(String query, {String? genre}) {
    state = _allArtists.where((artist) {
      final matchName = artist.name.toLowerCase().contains(query.toLowerCase());
      final matchGenre = genre == null || artist.genre == genre;
      return matchName && matchGenre;
    }).toList();
  }
}
